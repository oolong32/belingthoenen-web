{# About Page #}
{% extends "_layout.html" %}
  
{% block content %}

{% set aboutSingle = craft.entries().section('about').first() %}
{% set aboutIntro = aboutSingle.aboutIntro %}
{% set aboutEntries = craft.entries().section('aboutEntries').all() %}

<main class="about-carousel carousel">

  {# {% for aboutPage in aboutPages %} #}
  <div class="carousel-cell">
    <section id="about-intro">
      <p style="color: white; font-size: 18px; margin: 15px 30px;">{{ aboutIntro}}</p>

      <ul id="team-list" style="color: white; font-size: 18px; margin: 15px 30px;">
      {% for entry in aboutEntries %}
        <li><a href="">{{ entry.teamName }}</a></li>
      {% endfor %}
      </ul>

    </section>

     <section style="margin-top: 170px">
        <img style="display: block; margin: 0 auto;" src="/assets/_pic/arrow_right.svg" alt="arrow">
        <p style="color: white; font-size: 18px; text-align: center"><strong>Team</strong></p>
     </section>
  </div>

  {% for entry in aboutEntries %}
  <div class="carousel-cell" style="background: url('{{ entry.teamImg[0].url }}') no-repeat center center; -webkit-background-size: cover; -moz-background-size: cover; -o-background-size: cover; background-size: cover; ">
      <p class="name">{{ entry.teamName }}{{ entry.teamRole|length ? "<br>#{entry.teamRole}" | raw : '' }}</p>
  </div>
  {% endfor %}

</main>
  
<script src="/assets/js/jquery.js"></script>
<script src="/assets/js/flickity.js"></script>
<script src="/assets/js/initializeAboutFlickity.js"></script>
<script src="/assets/js/handleArrowButtons.js"></script>

<script>

  document.addEventListener("DOMContentLoaded", function(event) {
    console.log('hello');
    let team = document.querySelectorAll('#team-list li a');
    for (let i = 0; i < team.length; i++) {
      console.log(team[i]);
      team[i].addEventListener('click' || 'touchend', (e)=> {
        e.preventDefault();
        flkty.select(i, true, false);
        // Ã¤chz
      });
    }
  });

</script>
{% endblock %}
